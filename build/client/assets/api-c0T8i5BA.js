var a;const o=typeof window<"u"&&((a=window.ENV)==null?void 0:a.API_URL)||""||"";function f(){return o}function c(){return typeof window>"u"?null:localStorage.getItem("auth_token")}async function s(n,e={}){const r=c(),d=n.startsWith("http")?n:`${o}${n}`,t={...typeof e.headers=="object"&&!(e.headers instanceof Headers)?e.headers:{},...e.headers instanceof Headers?Object.fromEntries(e.headers):{}};return r&&(t.Authorization=`Bearer ${r}`),e.body&&typeof e.body=="string"&&!t["Content-Type"]&&(t["Content-Type"]="application/json"),fetch(d,{...e,headers:t})}export{s as a,f as b,c as g};
